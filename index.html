<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¹¦ç«ä»”æ–‡åŒ–ä¼åŠƒæŒ‘æˆ°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .ocean-bg {
            background: linear-gradient(180deg, #1e40af 0%, #3b82f6 50%, #0ea5e9 100%);
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .fire-glow {
            box-shadow: 0 0 20px rgba(251, 146, 60, 0.6);
            animation: fireFlicker 2s ease-in-out infinite alternate;
        }
        
        @keyframes fireFlicker {
            0% { box-shadow: 0 0 20px rgba(251, 146, 60, 0.6); }
            100% { box-shadow: 0 0 30px rgba(251, 146, 60, 0.8); }
        }
        
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: wave 3s ease-in-out infinite;
        }
        
        @keyframes wave {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }
        
        .drag-card {
            transition: all 0.3s ease;
            cursor: grab;
        }
        
        .drag-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .drag-card.dragging {
            transform: rotate(5deg) scale(1.05);
            cursor: grabbing;
            z-index: 1000;
        }
        
        .drop-zone {
            transition: all 0.3s ease;
            border: 2px dashed #cbd5e1;
        }
        
        .drop-zone.drag-over {
            border-color: #f97316;
            background-color: rgba(249, 115, 22, 0.1);
            transform: scale(1.02);
        }
        
        .drop-zone.correct {
            border-color: #10b981;
            background-color: rgba(16, 185, 129, 0.1);
        }
        
        .drop-zone.incorrect {
            border-color: #ef4444;
            background-color: rgba(239, 68, 68, 0.1);
        }
        
        .fish {
            position: absolute;
            font-size: 24px;
            animation: swim 4s linear infinite;
        }
        
        @keyframes swim {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }
        
        .boat {
            position: absolute;
            top: 20%;
            right: 10%;
            font-size: 48px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .success-animation {
            animation: successPulse 0.6s ease-in-out;
        }
        
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .score-counter {
            animation: scoreUp 0.5s ease-out;
        }
        
        @keyframes scoreUp {
            0% { transform: translateY(20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        .score-popup {
            position: fixed;
            z-index: 9999;
            font-size: 24px;
            font-weight: bold;
            pointer-events: none;
            animation: scorePopup 2s ease-out forwards;
        }
        
        @keyframes scorePopup {
            0% { 
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            50% {
                transform: translateY(-30px) scale(1.2);
                opacity: 1;
            }
            100% { 
                transform: translateY(-60px) scale(1);
                opacity: 0;
            }
        }
        
        .tourist-animation {
            position: fixed;
            top: 20%;
            right: -100px;
            font-size: 32px;
            z-index: 1000;
            animation: touristWalk 3s ease-in-out forwards;
        }
        
        @keyframes touristWalk {
            0% { transform: translateX(0); }
            50% { transform: translateX(-200px); }
            100% { transform: translateX(-400px); opacity: 0; }
        }
        
        .exodus-animation {
            position: fixed;
            top: 30%;
            left: -100px;
            font-size: 32px;
            z-index: 1000;
            animation: exodusWalk 3s ease-in-out forwards;
        }
        
        @keyframes exodusWalk {
            0% { transform: translateX(0); opacity: 1; }
            50% { transform: translateX(200px); opacity: 0.7; }
            100% { transform: translateX(400px); opacity: 0; }
        }
        
        .local-animation {
            position: fixed;
            top: 20%;
            right: 20px;
            width: 300px;
            height: 150px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: slideInOut 2s ease-in-out forwards;
            pointer-events: none;
        }
        
        .local-animation.success {
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.95), rgba(34, 197, 94, 0.95));
        }
        
        .local-animation.failure {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.95), rgba(220, 38, 38, 0.95));
        }
        
        @keyframes slideInOut {
            0% { opacity: 0; transform: translateX(100%); }
            15% { opacity: 1; transform: translateX(0); }
            85% { opacity: 1; transform: translateX(0); }
            100% { opacity: 0; transform: translateX(100%); }
        }
        
        .animation-text {
            font-size: 20px;
            font-weight: bold;
            color: white;
            text-align: center;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .animation-icons {
            font-size: 32px;
            margin-bottom: 8px;
            animation: bounce 1s ease-in-out infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .progress-container {
            background: linear-gradient(90deg, #ef4444 0%, #f97316 50%, #10b981 100%);
            border-radius: 20px;
            padding: 4px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .progress-bar {
            background: white;
            border-radius: 16px;
            height: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 16px;
            transition: all 0.8s ease-out;
            position: relative;
            background: linear-gradient(90deg, #ef4444 0%, #f97316 30%, #eab308 60%, #10b981 100%);
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .progress-status {
            font-size: 14px;
            font-weight: bold;
            margin-top: 8px;
            text-align: center;
        }
        
        .status-critical { color: #ef4444; }
        .status-danger { color: #f97316; }
        .status-warning { color: #eab308; }
        .status-good { color: #10b981; }
        .status-excellent { color: #059669; }
        
        .celebration-fireworks {
            position: fixed;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 48px;
            z-index: 1000;
            animation: fireworks 2s ease-out forwards;
        }
        
        @keyframes fireworks {
            0% { 
                transform: translateX(-50%) scale(0);
                opacity: 0;
            }
            50% {
                transform: translateX(-50%) scale(1.5);
                opacity: 1;
            }
            100% { 
                transform: translateX(-50%) scale(1);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="ocean-bg">
    <!-- èƒŒæ™¯è£é£¾ -->
    <div class="wave"></div>
    <div class="boat">ğŸš¢</div>
    <div class="fish" style="top: 60%; animation-delay: 0s;">ğŸŸ</div>
    <div class="fish" style="top: 70%; animation-delay: 2s;">ğŸ </div>
    <div class="fish" style="top: 50%; animation-delay: 4s;">ğŸ¡</div>

    <!-- éŠæˆ²å®¹å™¨ -->
    <div class="container mx-auto px-4 py-8 relative z-10">
        <!-- éŠæˆ²æ¨™é¡Œ -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-4 fire-glow">ğŸ”¥ è¹¦ç«ä»”æ–‡åŒ–ä¼åŠƒæŒ‘æˆ° ğŸ”¥</h1>
            <p class="text-xl text-blue-100">é‹ç”¨ä¼åŠƒç†è«–è¨­è¨ˆé‡‘å±±è¹¦ç«ä»”æ–‡åŒ–æ´»å‹•</p>
        </div>

        <!-- é–‹å§‹ç•«é¢ -->
        <div id="startScreen" class="max-w-3xl mx-auto bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl">
            <div class="text-center">
                <!-- éŠæˆ²ä¸»è¦–è¦º -->
                <div class="mb-6">
                    <div class="text-8xl mb-4">ğŸ”¥ğŸš¢ğŸŒŠ</div>
                    <h1 class="text-4xl font-bold text-red-600 mb-2 fire-glow">è¹¦ç«ä»”æ¼æ‘æ–‡åŒ–</h1>
                    <h2 class="text-3xl font-bold text-orange-600 mb-4">æ‹¯æ•‘å¤§ä½œæˆ°</h2>
                </div>
                
                <!-- æ•…äº‹èƒŒæ™¯ -->
                <div class="bg-blue-50 rounded-xl p-6 mb-6 text-left">
                    <h3 class="text-xl font-bold text-blue-800 mb-3 text-center">ğŸ˜ï¸ æ¼æ‘å±æ©Ÿ</h3>
                    <div class="space-y-2 text-gray-700">
                        <p>ğŸ“‰ <strong>äººå£å¤–æµï¼š</strong>å¹´è¼•äººé›¢é–‹æ¼æ‘ï¼Œå‚³çµ±æŠ€è—é¢è‡¨å¤±å‚³</p>
                        <p>ğŸ”¥ <strong>æ–‡åŒ–ç€•å±ï¼š</strong>ç™¾å¹´è¹¦ç«ä»”æ•é­šæŠ€è¡“å¾Œç¹¼ç„¡äºº</p>
                        <p>ğŸ’¼ <strong>ç¶“æ¿Ÿå›°å¢ƒï¼š</strong>æ¼æ¥­æ”¶å…¥ä¸‹é™ï¼Œæ‘æ°‘ç”Ÿæ´»å›°é›£</p>
                        <p>â° <strong>æ™‚é–“ç·Šè¿«ï¼š</strong>æ–‡åŒ–ä¿å­˜åˆ»ä¸å®¹ç·©ï¼</p>
                    </div>
                </div>
                
                <!-- ä»»å‹™èªªæ˜ -->
                <div class="bg-green-50 rounded-xl p-6 mb-6">
                    <h3 class="text-xl font-bold text-green-800 mb-3">ğŸ¯ æ‚¨çš„ä»»å‹™</h3>
                    <p class="text-gray-700 mb-4">èº«ç‚ºåœ°æ–¹ç”¢æ¥­ä¼åŠƒå¸«ï¼Œé‹ç”¨å°ˆæ¥­çš„ä¼åŠƒç†è«–ï¼š</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                        <div class="bg-white rounded-lg p-3">
                            <div class="text-2xl mb-2">ğŸ“Š</div>
                            <strong>SWOTåˆ†æ</strong><br>
                            è©•ä¼°å…§å¤–éƒ¨ç’°å¢ƒ
                        </div>
                        <div class="bg-white rounded-lg p-3">
                            <div class="text-2xl mb-2">ğŸ¯</div>
                            <strong>STPç­–ç•¥</strong><br>
                            ç²¾æº–å¸‚å ´å®šä½
                        </div>
                        <div class="bg-white rounded-lg p-3">
                            <div class="text-2xl mb-2">ğŸ›ï¸</div>
                            <strong>4Pè¡ŒéŠ·</strong><br>
                            å®Œæ•´è¡ŒéŠ·çµ„åˆ
                        </div>
                    </div>
                </div>
                
                <!-- æˆåŠŸé¡˜æ™¯ -->
                <div class="bg-yellow-50 rounded-xl p-4 mb-6">
                    <p class="text-lg font-semibold text-yellow-800">
                        ğŸŒŸ æˆåŠŸæŒ¯èˆˆæ¼æ‘ï¼Œè®“è¹¦ç«ä»”æ–‡åŒ–é‡ç¾å…‰èŠ’ï¼
                    </p>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">è«‹è¼¸å…¥æ‚¨çš„ä¼åŠƒå¸«å§“åï¼š</label>
                    <input type="text" id="playerName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="è¼¸å…¥æ‚¨çš„å§“å">
                </div>
                
                <button onclick="startGame()" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-4 px-8 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸš€ é–‹å§‹æ‹¯æ•‘ä»»å‹™
                </button>
            </div>
        </div>

        <!-- éŠæˆ²ä¸»ç•«é¢ -->
        <div id="gameScreen" class="hidden">
            <!-- éŠæˆ²ç‹€æ…‹åˆ— -->
            <div class="bg-white/90 backdrop-blur-sm rounded-xl p-4 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center space-x-4">
                        <span class="text-lg font-semibold">é—œå¡: <span id="currentLevel" class="text-orange-600">1</span>/5</span>
                        <span class="text-lg font-semibold">åˆ†æ•¸: <span id="currentScore" class="text-blue-600">0</span></span>
                    </div>
                    <div class="text-lg font-semibold">
                        ç©å®¶: <span id="displayName" class="text-green-600"></span>
                    </div>
                </div>
                
                <!-- æŒ¯èˆˆæ¼æ‘é€²åº¦æ¢ -->
                <div class="w-full">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-medium text-gray-700">ğŸ˜ï¸ æ¼æ‘æŒ¯èˆˆé€²åº¦</span>
                        <span class="text-sm font-medium text-gray-700" id="progressPercentage">0%</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <div id="progressStatus" class="progress-status status-critical">ğŸš¨ æ–‡åŒ–ç€•è‡¨æ¶ˆå¤±</div>
                </div>
            </div>

            <!-- é¡Œç›®å€åŸŸ -->
            <div id="questionArea" class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl">
                <h3 id="questionTitle" class="text-xl font-bold text-gray-800 mb-4"></h3>
                <p id="questionDescription" class="text-gray-600 mb-6"></p>
                
                <!-- æ‹–æ›³å¡ç‰‡å€åŸŸ -->
                <div class="mb-6">
                    <h4 class="text-lg font-semibold text-gray-700 mb-3">è«‹å°‡ä»¥ä¸‹è¦ç´ æ‹–æ›³åˆ°æ­£ç¢ºçš„åˆ†é¡ä¸­ï¼š</h4>
                    <div id="dragCards" class="flex flex-wrap gap-3 justify-center">
                        <!-- å‹•æ…‹ç”Ÿæˆæ‹–æ›³å¡ç‰‡ -->
                    </div>
                </div>

                <!-- æ”¾ç½®å€åŸŸ -->
                <div id="dropZones" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- å‹•æ…‹ç”Ÿæˆæ”¾ç½®å€åŸŸ -->
                </div>
            </div>

            <!-- å›é¥‹å€åŸŸ -->
            <div id="feedbackArea" class="hidden bg-white/90 backdrop-blur-sm rounded-xl p-4 mb-4">
                <div id="feedbackContent" class="text-center"></div>
            </div>

            <!-- ä¸‹ä¸€é¡ŒæŒ‰éˆ• -->
            <div class="text-center">
                <button id="nextButton" onclick="nextQuestion()" class="hidden bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full transition-all duration-300">
                    ä¸‹ä¸€é¡Œ â¡ï¸
                </button>
            </div>
        </div>

        <!-- çµæœç•«é¢ -->
        <div id="resultScreen" class="hidden max-w-3xl mx-auto bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl">
            <div class="text-center">
                <div id="resultIcon" class="text-6xl mb-4"></div>
                <h2 class="text-2xl font-bold text-gray-800 mb-4">æŒ‘æˆ°å®Œæˆï¼</h2>
                <div id="finalScore" class="text-3xl font-bold text-orange-600 mb-4"></div>
                <div id="playerTitle" class="text-xl font-semibold text-blue-600 mb-6"></div>
                <div id="resultSummary" class="text-gray-600 mb-6"></div>
                
                <div class="flex justify-center space-x-4">
                    <button onclick="restartGame()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full transition-all duration-300">
                        é‡æ–°æŒ‘æˆ° ğŸ”„
                    </button>
                    <button onclick="saveResults()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-full transition-all duration-300">
                        å„²å­˜æˆç¸¾ ğŸ’¾
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // éŠæˆ²ç‹€æ…‹
        let gameState = {
            playerName: '',
            currentLevel: 1,
            score: 0,
            answers: [],
            startTime: null,
            questions: [
                {
                    title: "SWOT åˆ†æ - è¹¦ç«ä»”æ–‡åŒ–æ´»å‹•",
                    description: "è«‹å°‡ä»¥ä¸‹å› ç´ åˆ†é¡åˆ° SWOT åˆ†æçš„æ­£ç¢ºè±¡é™ä¸­",
                    categories: ["å„ªå‹¢ (Strengths)", "åŠ£å‹¢ (Weaknesses)", "æ©Ÿæœƒ (Opportunities)", "å¨è„… (Threats)"],
                    items: [
                        { text: "ğŸ”¥ ç¨ç‰¹çš„å‚³çµ±æ•é­šæŠ€è¡“", category: "å„ªå‹¢ (Strengths)" },
                        { text: "ğŸ‘´ æ¼æ°‘é«˜é½¡åŒ–å•é¡Œ", category: "åŠ£å‹¢ (Weaknesses)" },
                        { text: "ğŸ“ˆ è§€å…‰å®¢å°æ–‡åŒ–é«”é©—éœ€æ±‚å¢åŠ ", category: "æ©Ÿæœƒ (Opportunities)" },
                        { text: "ğŸŒŠ è±å¯Œçš„æµ·æ´‹æ–‡åŒ–åº•è˜Š", category: "å„ªå‹¢ (Strengths)" },
                        { text: "ğŸ‘¥ ç¼ºä¹å¹´è¼•å‚³æ‰¿è€…", category: "åŠ£å‹¢ (Weaknesses)" },
                        { text: "ğŸ›ï¸ æ”¿åºœæ¨å‹•æ–‡åŒ–è§€å…‰æ”¿ç­–", category: "æ©Ÿæœƒ (Opportunities)" },
                        { text: "ğŸ­ å·¥æ¥­åŒ–ç ´å£æµ·æ´‹ç’°å¢ƒ", category: "å¨è„… (Threats)" },
                        { text: "ğŸŒ å…¶ä»–åœ°å€æ–‡åŒ–è§€å…‰ç«¶çˆ­", category: "å¨è„… (Threats)" },
                        { text: "ğŸŒ¡ï¸ æ°£å€™è®Šé·å½±éŸ¿æ¼æ¥­", category: "å¨è„… (Threats)" }
                    ]
                },
                {
                    title: "STP ç­–ç•¥ - å¸‚å ´å€éš”èˆ‡å®šä½",
                    description: "è«‹å°‡ä»¥ä¸‹ç­–ç•¥è¦ç´ åˆ†é¡åˆ° STP ç†è«–çš„æ­£ç¢ºéšæ®µ",
                    categories: ["å¸‚å ´å€éš” (Segmentation)", "ç›®æ¨™å¸‚å ´ (Targeting)", "å¸‚å ´å®šä½ (Positioning)"],
                    items: [
                        { text: "ğŸ­ æ–‡åŒ–æ„›å¥½è€…æ—ç¾¤", category: "å¸‚å ´å€éš” (Segmentation)" },
                        { text: "ğŸ”¥ ä¸»æ‰“ã€Œå°ç£å”¯ä¸€ç«æ•é­šé«”é©—ã€", category: "å¸‚å ´å®šä½ (Positioning)" },
                        { text: "ğŸ’¼ é–å®š25-45æ­²ä¸­ç”¢éšç´š", category: "ç›®æ¨™å¸‚å ´ (Targeting)" },
                        { text: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ è¦ªå­å®¶åº­å¸‚å ´", category: "å¸‚å ´å€éš” (Segmentation)" },
                        { text: "âš–ï¸ å¼·èª¿ã€Œå‚³çµ±èˆ‡ç¾ä»£çµåˆã€", category: "å¸‚å ´å®šä½ (Positioning)" },
                        { text: "ğŸ’° é¸æ“‡é«˜æ¶ˆè²»åŠ›éŠå®¢", category: "ç›®æ¨™å¸‚å ´ (Targeting)" }
                    ]
                },
                {
                    title: "4P è¡ŒéŠ·çµ„åˆ - ç”¢å“ç­–ç•¥",
                    description: "è«‹å°‡ä»¥ä¸‹è¡ŒéŠ·è¦ç´ åˆ†é¡åˆ° 4P ç†è«–çš„æ­£ç¢ºé¡åˆ¥",
                    categories: ["ç”¢å“ (Product)", "åƒ¹æ ¼ (Price)", "é€šè·¯ (Place)"],
                    items: [
                        { text: "ğŸŒ™ è¹¦ç«ä»”å¤œé–“é«”é©—è¡Œç¨‹", category: "ç”¢å“ (Product)" },
                        { text: "ğŸ’µ æˆäººç¥¨åƒ¹ 1200 å…ƒ", category: "åƒ¹æ ¼ (Price)" },
                        { text: "ğŸ¢ é€éæ—…è¡Œç¤¾éŠ·å”®", category: "é€šè·¯ (Place)" },
                        { text: "ğŸ›ï¸ æ¼æ‘æ–‡åŒ–å°è¦½æœå‹™", category: "ç”¢å“ (Product)" },
                        { text: "ğŸ¦ æ—©é³¥å„ªæƒ  8 æŠ˜", category: "åƒ¹æ ¼ (Price)" },
                        { text: "ğŸ’» å®˜æ–¹ç¶²ç«™ç·šä¸Šé è¨‚", category: "é€šè·¯ (Place)" }
                    ]
                },
                {
                    title: "4P è¡ŒéŠ·çµ„åˆ - æ¨å»£ç­–ç•¥",
                    description: "è«‹å°‡ä»¥ä¸‹æ¨å»£æ´»å‹•åˆ†é¡åˆ°æ­£ç¢ºçš„è¡ŒéŠ·é¡åˆ¥",
                    categories: ["æ¨å»£ (Promotion)", "ç”¢å“ (Product)", "åƒ¹æ ¼ (Price)"],
                    items: [
                        { text: "ğŸ“± ç¤¾ç¾¤åª’é«”å½±ç‰‡å®£å‚³", category: "æ¨å»£ (Promotion)" },
                        { text: "ğŸ è¹¦ç«ä»”æ–‡åŒ–ç´€å¿µå“", category: "ç”¢å“ (Product)" },
                        { text: "ğŸ‘¥ åœ˜é«”ç¥¨å„ªæƒ æ–¹æ¡ˆ", category: "åƒ¹æ ¼ (Price)" },
                        { text: "ğŸŒŸ èˆ‡ç¶²ç´…åˆä½œæ¨å»£", category: "æ¨å»£ (Promotion)" },
                        { text: "ğŸ½ï¸ æ¼å¤«æ–™ç†é«”é©—èª²ç¨‹", category: "ç”¢å“ (Product)" },
                        { text: "ğŸ“ å­¸ç”Ÿç¥¨åŠåƒ¹å„ªæƒ ", category: "åƒ¹æ ¼ (Price)" }
                    ]
                },
                {
                    title: "ç¶œåˆä¼åŠƒæ•´åˆ",
                    description: "è«‹å°‡ä»¥ä¸‹ä¼åŠƒè¦ç´ åˆ†é¡åˆ°æ­£ç¢ºçš„ç­–ç•¥æ¡†æ¶ä¸­",
                    categories: ["SWOTåˆ†æ", "STPç­–ç•¥", "4Pè¡ŒéŠ·"],
                    items: [
                        { text: "âš”ï¸ åˆ†æç«¶çˆ­å°æ‰‹å¨è„…", category: "SWOTåˆ†æ" },
                        { text: "ğŸ‘‘ å®šä½ç‚ºé ‚ç´šæ–‡åŒ–é«”é©—", category: "STPç­–ç•¥" },
                        { text: "ğŸ“¦ è¨­è¨ˆå¤šå…ƒåŒ–ç”¢å“çµ„åˆ", category: "4Pè¡ŒéŠ·" },
                        { text: "ğŸ’ª è©•ä¼°å…§éƒ¨è³‡æºå„ªå‹¢", category: "SWOTåˆ†æ" },
                        { text: "ğŸ¯ é–å®šé«˜ç«¯æ—…éŠå¸‚å ´", category: "STPç­–ç•¥" },
                        { text: "ğŸ’² åˆ¶å®šå½ˆæ€§å®šåƒ¹ç­–ç•¥", category: "4Pè¡ŒéŠ·" }
                    ]
                }
            ]
        };

        // é–‹å§‹éŠæˆ²
        function startGame() {
            const nameInput = document.getElementById('playerName');
            if (!nameInput.value.trim()) {
                alert('è«‹è¼¸å…¥æ‚¨çš„å§“åï¼');
                return;
            }
            
            gameState.playerName = nameInput.value.trim();
            gameState.startTime = new Date();
            
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('displayName').textContent = gameState.playerName;
            
            loadQuestion();
        }

        // è¼‰å…¥é¡Œç›®
        function loadQuestion() {
            const question = gameState.questions[gameState.currentLevel - 1];
            
            document.getElementById('currentLevel').textContent = gameState.currentLevel;
            document.getElementById('questionTitle').textContent = question.title;
            document.getElementById('questionDescription').textContent = question.description;
            
            // ç”Ÿæˆæ‹–æ›³å¡ç‰‡
            const dragCardsContainer = document.getElementById('dragCards');
            dragCardsContainer.innerHTML = '';
            
            // éš¨æ©Ÿæ’åºé¡Œç›®é¸é …
            const shuffledItems = [...question.items].sort(() => Math.random() - 0.5);
            
            shuffledItems.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'drag-card bg-gradient-to-r from-orange-400 to-orange-500 text-white px-4 py-3 rounded-lg shadow-lg';
                card.draggable = true;
                card.textContent = item.text;
                card.dataset.category = item.category;
                card.dataset.itemId = index;
                
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragend', handleDragEnd);
                
                dragCardsContainer.appendChild(card);
            });
            
            // ç”Ÿæˆæ”¾ç½®å€åŸŸ
            const dropZonesContainer = document.getElementById('dropZones');
            dropZonesContainer.innerHTML = '';
            
            question.categories.forEach(category => {
                const zone = document.createElement('div');
                zone.className = 'drop-zone bg-white/50 border-2 border-dashed border-gray-300 rounded-xl p-4 min-h-32';
                zone.dataset.category = category;
                
                zone.innerHTML = `
                    <h4 class="font-semibold text-gray-700 mb-3 text-center">${category}</h4>
                    <div class="dropped-items space-y-2"></div>
                `;
                
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
                
                dropZonesContainer.appendChild(zone);
            });
            
            // éš±è—å›é¥‹å’Œä¸‹ä¸€é¡ŒæŒ‰éˆ•
            document.getElementById('feedbackArea').classList.add('hidden');
            document.getElementById('nextButton').classList.add('hidden');
            
            // åˆå§‹åŒ–é€²åº¦æ¢
            initializeProgressBar();
        }

        // æ‹–æ›³äº‹ä»¶è™•ç†
        function handleDragStart(e) {
            e.target.classList.add('dragging');
            e.dataTransfer.setData('text/plain', e.target.dataset.itemId);
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            const dropZone = e.target.closest('.drop-zone');
            if (!dropZone) return;
            
            dropZone.classList.remove('drag-over');
            
            const itemId = e.dataTransfer.getData('text/plain');
            const draggedCard = document.querySelector(`[data-item-id="${itemId}"]`);
            
            if (!draggedCard) return;
            
            const correctCategory = draggedCard.dataset.category;
            const droppedCategory = dropZone.dataset.category;
            const isCorrect = correctCategory === droppedCategory;
            
            // ç§»å‹•å¡ç‰‡åˆ°æ”¾ç½®å€åŸŸ
            const droppedItems = dropZone.querySelector('.dropped-items');
            const newCard = draggedCard.cloneNode(true);
            newCard.draggable = false;
            newCard.className = `drag-card ${isCorrect ? 'bg-green-500' : 'bg-red-500'} text-white px-3 py-2 rounded-lg text-sm`;
            
            droppedItems.appendChild(newCard);
            draggedCard.remove();
            
            // è¨˜éŒ„ç­”æ¡ˆ
            gameState.answers.push({
                level: gameState.currentLevel,
                question: document.getElementById('questionTitle').textContent,
                item: draggedCard.textContent,
                selectedCategory: droppedCategory,
                correctCategory: correctCategory,
                isCorrect: isCorrect
            });
            
            // æ›´æ–°åˆ†æ•¸ä¸¦é¡¯ç¤ºå‹•ç•«
            if (isCorrect) {
                gameState.score += 10;
                document.getElementById('currentScore').textContent = gameState.score;
                document.getElementById('currentScore').classList.add('score-counter');
                
                // é¡¯ç¤ºåŠ åˆ†å‹•ç•«
                showScorePopup('+10', 'text-green-500', e.clientX, e.clientY);
                
                // é¡¯ç¤ºè§€å…‰å®¢å¢åŠ å‹•ç•«
                showTouristAnimation();
                
                // æ›´æ–°é€²åº¦æ¢
                updateProgressBar();
                
                setTimeout(() => {
                    document.getElementById('currentScore').classList.remove('score-counter');
                }, 500);
            } else {
                gameState.score = Math.max(0, gameState.score - 5);
                document.getElementById('currentScore').textContent = gameState.score;
                
                // é¡¯ç¤ºæ‰£åˆ†å‹•ç•«
                showScorePopup('-5', 'text-red-500', e.clientX, e.clientY);
                
                // é¡¯ç¤ºäººå£å¤–æµå‹•ç•«
                showExodusAnimation();
                
                // æ›´æ–°é€²åº¦æ¢
                updateProgressBar();
            }
            
            // æª¢æŸ¥æ˜¯å¦å®Œæˆç•¶å‰é¡Œç›®
            checkLevelComplete();
        }

        // é¡¯ç¤ºåˆ†æ•¸å½ˆå‡ºå‹•ç•«
        function showScorePopup(text, colorClass, x, y) {
            const popup = document.createElement('div');
            popup.className = `score-popup ${colorClass}`;
            popup.textContent = text;
            popup.style.left = x + 'px';
            popup.style.top = y + 'px';
            
            document.body.appendChild(popup);
            
            setTimeout(() => {
                popup.remove();
            }, 2000);
        }

        // é¡¯ç¤ºè§€å…‰å®¢å¢åŠ å‹•ç•«
        function showTouristAnimation() {
            const animation = document.createElement('div');
            animation.className = 'local-animation success';
            
            animation.innerHTML = `
                <div class="animation-icons">ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ“·</div>
                <div class="animation-text">è§€å…‰å®¢æ¹§å…¥ï¼</div>
                <div class="animation-text" style="font-size: 14px;">è¹¦ç«ä»”æ–‡åŒ–å¸å¼•æ›´å¤šéŠå®¢</div>
            `;
            
            document.body.appendChild(animation);
            
            setTimeout(() => {
                animation.remove();
            }, 2000);
        }

        // é¡¯ç¤ºäººå£å¤–æµå‹•ç•«
        function showExodusAnimation() {
            const animation = document.createElement('div');
            animation.className = 'local-animation failure';
            
            animation.innerHTML = `
                <div class="animation-icons">ğŸ‘¨â€ğŸ’¼ğŸ‘©â€ğŸ’¼ğŸš¶â€â™‚ï¸ğŸ’¼</div>
                <div class="animation-text">äººå£å¤–æµï¼</div>
                <div class="animation-text" style="font-size: 14px;">å¹´è¼•äººé›¢é–‹æ¼æ‘å°‹æ‰¾å·¥ä½œ</div>
            `;
            
            document.body.appendChild(animation);
            
            setTimeout(() => {
                animation.remove();
            }, 2000);
        }

        // é¡¯ç¤ºæ…¶ç¥ç…™ç«å‹•ç•«
        function showCelebrationFireworks() {
            const fireworks = document.createElement('div');
            fireworks.className = 'celebration-fireworks';
            fireworks.textContent = 'ğŸ†ğŸ‡âœ¨';
            
            document.body.appendChild(fireworks);
            
            setTimeout(() => {
                fireworks.remove();
            }, 2000);
        }

        // æ›´æ–°é€²åº¦æ¢
        function updateProgressBar() {
            const maxScore = gameState.questions.length * 9 * 10; // å‡è¨­æ¯é—œæœ€å¤š9é¡Œï¼Œæ¯é¡Œ10åˆ†
            const currentProgress = Math.min((gameState.score / maxScore) * 100, 100);
            
            const progressFill = document.getElementById('progressFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const progressStatus = document.getElementById('progressStatus');
            
            progressFill.style.width = currentProgress + '%';
            progressPercentage.textContent = Math.round(currentProgress) + '%';
            
            // æ›´æ–°ç‹€æ…‹æ–‡å­—å’Œé¡è‰²
            let statusText = '';
            let statusClass = '';
            
            if (currentProgress >= 80) {
                statusText = 'ğŸ‰ æ¼æ‘æŒ¯èˆˆæˆåŠŸï¼';
                statusClass = 'status-excellent';
            } else if (currentProgress >= 60) {
                statusText = 'ğŸŒŸ æ–‡åŒ–è“¬å‹ƒç™¼å±•';
                statusClass = 'status-good';
            } else if (currentProgress >= 40) {
                statusText = 'âš ï¸ éœ€è¦æ›´å¤šåŠªåŠ›';
                statusClass = 'status-warning';
            } else if (currentProgress >= 20) {
                statusText = 'ğŸš¨ æ–‡åŒ–é¢è‡¨å±æ©Ÿ';
                statusClass = 'status-danger';
            } else {
                statusText = 'ğŸ’€ æ–‡åŒ–ç€•è‡¨æ¶ˆå¤±';
                statusClass = 'status-critical';
            }
            
            progressStatus.textContent = statusText;
            progressStatus.className = `progress-status ${statusClass}`;
        }

        // åˆå§‹åŒ–é€²åº¦æ¢
        function initializeProgressBar() {
            updateProgressBar();
        }

        // æª¢æŸ¥é—œå¡æ˜¯å¦å®Œæˆ
        function checkLevelComplete() {
            const remainingCards = document.querySelectorAll('#dragCards .drag-card');
            
            if (remainingCards.length === 0) {
                // é¡¯ç¤ºæ…¶ç¥å‹•ç•«
                showCelebrationFireworks();
                
                // é¡¯ç¤ºå›é¥‹
                showFeedback();
                document.getElementById('nextButton').classList.remove('hidden');
            }
        }

        // é¡¯ç¤ºå›é¥‹
        function showFeedback() {
            const currentAnswers = gameState.answers.filter(a => a.level === gameState.currentLevel);
            const correctCount = currentAnswers.filter(a => a.isCorrect).length;
            const totalCount = currentAnswers.length;
            
            let feedbackText = '';
            let feedbackClass = '';
            
            if (correctCount === totalCount) {
                feedbackText = `ğŸ‰ å¤ªæ£’äº†ï¼æ‚¨å®Œå…¨æŒæ¡äº†é€™å€‹ç†è«–æ¦‚å¿µï¼å…¨éƒ¨ ${totalCount} é¡Œéƒ½ç­”å°äº†ï¼`;
                feedbackClass = 'text-green-600 bg-green-50';
            } else if (correctCount >= totalCount * 0.7) {
                feedbackText = `ğŸ‘ å¾ˆå¥½ï¼æ‚¨ç­”å°äº† ${correctCount}/${totalCount} é¡Œï¼Œå°ç†è«–æœ‰ä¸éŒ¯çš„ç†è§£ï¼`;
                feedbackClass = 'text-blue-600 bg-blue-50';
            } else {
                feedbackText = `ğŸ’ª ç¹¼çºŒåŠªåŠ›ï¼æ‚¨ç­”å°äº† ${correctCount}/${totalCount} é¡Œï¼Œå»ºè­°è¤‡ç¿’ç›¸é—œç†è«–æ¦‚å¿µã€‚`;
                feedbackClass = 'text-orange-600 bg-orange-50';
            }
            
            const feedbackArea = document.getElementById('feedbackArea');
            const feedbackContent = document.getElementById('feedbackContent');
            
            feedbackContent.innerHTML = `
                <div class="p-4 rounded-lg ${feedbackClass}">
                    <p class="font-semibold">${feedbackText}</p>
                </div>
            `;
            
            feedbackArea.classList.remove('hidden');
            feedbackArea.classList.add('success-animation');
            
            setTimeout(() => {
                feedbackArea.classList.remove('success-animation');
            }, 600);
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            if (gameState.currentLevel < gameState.questions.length) {
                gameState.currentLevel++;
                loadQuestion();
            } else {
                showResults();
            }
        }

        // é¡¯ç¤ºçµæœ
        function showResults() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
            
            const totalQuestions = gameState.answers.length;
            const correctAnswers = gameState.answers.filter(a => a.isCorrect).length;
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            
            // è¨ˆç®—ç¨±è™Ÿ - 5å€‹ç´šåˆ¥è©•åƒ¹
            let title = '';
            let icon = '';
            let description = '';
            
            if (percentage >= 90) {
                title = 'è¹¦ç«ä»”æ–‡åŒ–æ‹¯æ•‘è‹±é›„';
                icon = 'ğŸ†';
                description = 'å®Œç¾æŒæ¡ä¼åŠƒç†è«–ï¼ŒæˆåŠŸæ‹¯æ•‘æ¼æ‘æ–‡åŒ–ï¼';
            } else if (percentage >= 75) {
                title = 'åœ°æ–¹ç”¢æ¥­ä¼åŠƒå¤§å¸«';
                icon = 'ğŸ¥‡';
                description = 'å„ªç§€çš„ä¼åŠƒèƒ½åŠ›ï¼Œæ¼æ‘æ–‡åŒ–é‡ç¾ç”Ÿæ©Ÿï¼';
            } else if (percentage >= 60) {
                title = 'æ–‡åŒ–æŒ¯èˆˆç­–åŠƒå¸«';
                icon = 'ğŸŒŸ';
                description = 'å…·å‚™è‰¯å¥½çš„ä¼åŠƒåŸºç¤ï¼ŒæŒçºŒåŠªåŠ›å¯é”æ›´é«˜æˆå°±ï¼';
            } else if (percentage >= 40) {
                title = 'ä¼‘é–’å‰µæ„é”äºº';
                icon = 'ğŸ’¡';
                description = 'æœ‰å‰µæ„æƒ³æ³•ï¼Œä½†éœ€è¦åŠ å¼·ç†è«–æ‡‰ç”¨èƒ½åŠ›ã€‚';
            } else {
                title = 'æ–‡åŒ–ä¼åŠƒæ–°æ‰‹';
                icon = 'ğŸŒ±';
                description = 'å‰›èµ·æ­¥çš„ä¼åŠƒå¸«ï¼Œå»ºè­°å¤šå­¸ç¿’ç›¸é—œç†è«–çŸ¥è­˜ã€‚';
            }
            
            document.getElementById('resultIcon').textContent = icon;
            document.getElementById('finalScore').textContent = `${gameState.score} åˆ† (${percentage}%)`;
            document.getElementById('playerTitle').textContent = title;
            document.getElementById('resultSummary').innerHTML = `
                <div class="mb-4">
                    <p class="text-lg font-semibold text-gray-700 mb-2">${description}</p>
                    <p class="text-gray-600">æ‚¨ç¸½å…±ç­”å°äº† ${correctAnswers}/${totalQuestions} é¡Œ</p>
                </div>
                <div class="bg-blue-50 rounded-lg p-4">
                    <h4 class="font-bold text-blue-800 mb-2">ğŸ¯ æˆå°±è§£é–æ¢ä»¶ï¼š</h4>
                    <div class="text-sm text-gray-600 space-y-1">
                        <p>ğŸ† æ‹¯æ•‘è‹±é›„ï¼š90%ä»¥ä¸Š (${percentage >= 90 ? 'âœ… å·²é”æˆ' : 'âŒ æœªé”æˆ'})</p>
                        <p>ğŸ¥‡ ä¼åŠƒå¤§å¸«ï¼š75-89% (${percentage >= 75 && percentage < 90 ? 'âœ… å·²é”æˆ' : 'âŒ æœªé”æˆ'})</p>
                        <p>ğŸŒŸ ç­–åŠƒå¸«ï¼š60-74% (${percentage >= 60 && percentage < 75 ? 'âœ… å·²é”æˆ' : 'âŒ æœªé”æˆ'})</p>
                        <p>ğŸ’¡ å‰µæ„é”äººï¼š40-59% (${percentage >= 40 && percentage < 60 ? 'âœ… å·²é”æˆ' : 'âŒ æœªé”æˆ'})</p>
                        <p>ğŸŒ± ä¼åŠƒæ–°æ‰‹ï¼š40%ä»¥ä¸‹ (${percentage < 40 ? 'âœ… å·²é”æˆ' : 'âŒ æœªé”æˆ'})</p>
                    </div>
                </div>
            `;
        }

        // é‡æ–°é–‹å§‹éŠæˆ²
        function restartGame() {
            gameState = {
                playerName: gameState.playerName,
                currentLevel: 1,
                score: 0,
                answers: [],
                startTime: new Date(),
                questions: gameState.questions
            };
            
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('currentScore').textContent = '0';
            
            // é‡ç½®é€²åº¦æ¢
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('progressPercentage').textContent = '0%';
            document.getElementById('progressStatus').textContent = 'ğŸš¨ æ–‡åŒ–ç€•è‡¨æ¶ˆå¤±';
            document.getElementById('progressStatus').className = 'progress-status status-critical';
            
            loadQuestion();
        }

        // å„²å­˜çµæœ
        function saveResults() {
            const endTime = new Date();
            const playTime = Math.round((endTime - gameState.startTime) / 1000);
            
            const resultData = {
                timestamp: endTime.toLocaleString('zh-TW'),
                playerName: gameState.playerName,
                score: gameState.score,
                playTime: playTime,
                answers: gameState.answers
            };
            
            console.log('ç™¼é€çš„è³‡æ–™:', JSON.stringify(resultData, null, 2));
            
            // ç™¼é€è³‡æ–™åˆ° Apps Script
            fetch('https://script.google.com/macros/s/AKfycbx-8zPxsxHh5-GMKzS9TAnj4Lv424zGULTIx0rJveMHO2Fqth_pSpVCl5GgOyEg5gEt/exec', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(resultData),
                mode: 'cors',
                credentials: 'omit'
            })
            .then(response => {
                console.log('ä¼ºæœå™¨å›æ‡‰ç‹€æ…‹:', response.status, response.statusText);
                if (!response.ok) {
                    throw new Error(`HTTP éŒ¯èª¤ï¼ç‹€æ…‹: ${response.status} ${response.statusText}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('ä¼ºæœå™¨å›æ‡‰å…§å®¹:', data);
                if (data.status === 'success') {
                    alert(`æˆç¸¾å·²åŒæ­¥åˆ° Google è©¦ç®—è¡¨ï¼\nç©å®¶ï¼š${gameState.playerName}\nåˆ†æ•¸ï¼š${gameState.score}\néŠæˆ²æ™‚é–“ï¼š${playTime}ç§’`);
                } else {
                    alert(`åŒæ­¥å¤±æ•—ï¼š${data.message || 'ä¼ºæœå™¨æœªè¿”å›æˆåŠŸç‹€æ…‹'}\nè«‹æª¢æŸ¥ Apps Script æ—¥èªŒæˆ– Web App é…ç½®ã€‚`);
                }
            })
            .catch(error => {
                console.error('åŒæ­¥éŒ¯èª¤:', error);
                alert(`ç™¼ç”ŸéŒ¯èª¤ï¼Œç„¡æ³•åŒæ­¥åˆ°è©¦ç®—è¡¨ï¼š${error.message}\nè«‹æª¢æŸ¥æ§åˆ¶å°æ—¥èªŒæˆ–è¯ç¹«ç®¡ç†å“¡ã€‚`);
            });
        }

        // åˆå§‹åŒ–éŠæˆ²
        document.addEventListener('DOMContentLoaded', function() {
            // æ·»åŠ é­šç¾¤å‹•ç•«
            setInterval(() => {
                if (Math.random() < 0.3) {
                    const fish = document.createElement('div');
                    fish.className = 'fish';
                    fish.style.top = Math.random() * 60 + 40 + '%';
                    fish.style.animationDelay = '0s';
                    fish.textContent = ['ğŸŸ', 'ğŸ ', 'ğŸ¡'][Math.floor(Math.random() * 3)];
                    document.body.appendChild(fish);
                    
                    setTimeout(() => {
                        fish.remove();
                    }, 4000);
                }
            }, 2000);
        });
    </script>
</body>
</html>
